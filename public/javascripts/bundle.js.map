{"version":3,"sources":["webpack/bootstrap 143d16df480d0d8ef2aa","./public/javascripts/app.js","external \"React\"","external \"jQuery\"","external \"_\"","external \"Backbone\"","./public/javascripts/lib/EventBus.js","./public/javascripts/lib/Main.js","./public/javascripts/lib/TopicList.js","./public/javascripts/lib/Topic.js","./public/javascripts/lib/TopicCreate.js","./public/javascripts/lib/ProfileView.js","./public/javascripts/lib/ProfileEdit.js","external \"marked\"","./public/javascripts/lib/NavLink.js","./public/javascripts/lib/Routes.js","./public/javascripts/lib/Editor.js","external \"ace\""],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,wC;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,yBAAwB,cAAc;AACtC;AACA,IAAG;AACH;AACA,gCAA+B,gBAAgB;AAC/C,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA,2BAA0B,WAAW;AACrC,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA,GAAE;;AAEF;AACA,0BAAyB,gBAAgB;AACzC,EAAC;;;;;;;ACnED,wB;;;;;;ACAA,yB;;;;;;ACAA,oB;;;;;;ACAA,2B;;;;;;mCCAA;AACA;AACA;;AAEA,oBAAmB;AACnB,EAAC;;;;;;;ACLD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAoC;AACpC;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,mBAAkB,aAAa;AAC/B;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA,2BAA0B,yBAAyB;AACnD;AACA;AACA;AACA,GAAE;;AAEF,oCAAmC;AACnC;AACA;AACA,yCAAwC,qBAAqB;AAC7D;AACA,GAAE;;AAEF,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,oBAAmB,kBAAkB;AACrC,KAAI;AACJ,IAAG;AACH;AACA,mBAAkB,mBAAmB;AACrC,IAAG;AACH;AACA,mBAAkB,sBAAsB;AACxC,IAAG;AACH;AACA,mBAAkB,0BAA0B;AAC5C,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA,mBAAkB,mBAAmB;AACrC,IAAG;AACH;AACA;AACA;AACA,yBAAwB,8CAA8C;AACtE;AACA;AACA,2BAA0B,6BAA6B;AACvD,uBAAsB,sEAAsE;AAC5F,qBAAoB,sBAAsB;AAC1C;AACA,yBAAwB,iDAAiD;AACzE;AACA;AACA,wBAAuB,8DAA8D;AACrF;AACA;AACA;AACA,2BAA0B,6BAA6B;AACvD,mBAAkB,kCAAkC;AACpD;AACA;AACA;AACA;AACA;AACA,yBAAwB,4DAA4D;AACpF;AACA,IAAG;AACH;AACA;AACA,qBAAoB,+CAA+C;AACnE;AACA;AACA,IAAG;AACH;AACA,2BAA0B,iCAAiC;AAC3D,oBAAmB,sCAAsC;AACzD,oBAAmB,yBAAyB;AAC5C;AACA,oBAAmB,wBAAwB;AAC3C,eAAc,wCAAwC;AACtD,eAAc,6CAA6C;AAC3D;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,oBAAmB,6BAA6B;AAChD;AACA,qBAAoB,iBAAiB;AACrC,sBAAqB,iDAAiD;AACtE,sBAAqB,4CAA4C;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF,EAAC;;;;;;;ACpJD;AACA;AACA;AACA;;AAEA;;AAEA,yCAAwC;AACxC;AACA;AACA;AACA;AACA,qBAAoB,uCAAuC;AAC3D,oBAAmB,2CAA2C;AAC9D,oBAAmB,0CAA0C;AAC7D;AACA,qBAAoB,6BAA6B;AACjD,oBAAmB,6CAA6C;AAChE,gBAAe,yCAAyC;AACxD;AACA,qBAAoB,uCAAuC;AAC3D;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,mBAAkB,OAAO;AACzB;AACA,gCAA+B;AAC/B;AACA;AACA,sBAAqB;AACrB;AACA,0BAAyB,wBAAwB;AACjD,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF,EAAC;;;;;;;AClDD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sCAAqC;AACrC;AACA;AACA,oBAAmB,8BAA8B;AACjD;AACA,oBAAmB,mDAAmD;AACtE,qBAAoB,wBAAwB;AAC5C;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,6CAA4C,uBAAuB;AACnE,kBAAiB,mBAAmB;AACpC;AACA;AACA,GAAE;;AAEF,4CAA2C;AAC3C;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,kBAAiB,+DAA+D;AAChF;AACA,kBAAiB,wDAAwD;AACzE,mBAAkB,uBAAuB;AACzC;AACA;AACA;AACA,GAAE;;AAEF,oCAAmC;AACnC;AACA,4BAA2B,0BAA0B,6BAA6B;AAClF;AACA,GAAE;;AAEF,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,aAAY,sEAAsE;AAClF,eAAc,uBAAuB;;AAErC;AACA,oBAAmB,uBAAuB;AAC1C,qBAAoB,0BAA0B;AAC9C,uBAAsB,yBAAyB;AAC/C,uBAAsB,uBAAuB;AAC7C,uBAAsB,qCAAqC;AAC3D,wBAAuB,wDAAwD;AAC/E,0BAAyB,8BAA8B;AACvD;AACA;AACA,qBAAoB,oCAAoC;AACxD,sBAAqB,yBAAyB;AAC9C;AACA;AACA,qBAAoB,8BAA8B;AAClD;AACA;AACA;AACA,GAAE;;AAEF,qCAAoC;AACpC;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,uBAAsB,6DAA6D;AACnF,KAAI;AACJ;AACA,mBAAkB,uBAAuB;AACzC;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,mBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,aAAa;AAC/B;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,IAAG;AACH;AACA;AACA;AACA,iBAAgB,kEAAkE;AAClF,cAAa,qEAAqE;AAClF;AACA;AACA;AACA,GAAE;AACF,EAAC;;;;;;;ACjND;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,aAAY;AACZ,uCAAsC;AACtC;AACA;;AAEA,GAAE;AACF,EAAC;;;;;;;ACzBD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF,EAAC;;;;;;;AC3BD;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,iCAAgC;AAChC;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,mBAAkB,iCAAiC;AACnD,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,iCAAgC,iCAAiC;AACjE,wBAAuB,wDAAwD;AAC/E,oBAAmB,iCAAiC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,wDAAwD;AAC1E;AACA,+BAA8B,0BAA0B;AACxD;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,oBAAmB,aAAa;AAChC,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,OAAM;AACN,MAAK;AACL,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA,wBAAuB;AACvB,4DAA2D;AAC3D;;AAEA,2BAA0B,iCAAiC;AAC3D,oBAAmB,2BAA2B;AAC9C,oBAAmB,yBAAyB;AAC5C;AACA,mBAAkB,wBAAwB;AAC1C;AACA;AACA,GAAE;;AAEF,iCAAgC;AAChC;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,mBAAkB,2CAA2C;AAC7D,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,iCAAgC,iCAAiC;AACjE,wBAAuB,wDAAwD;AAC/E,wBAAuB,wDAAwD;AAC/E,oBAAmB,iCAAiC;AACpD;AACA;AACA;AACA;AACA,+BAA8B,iCAAiC;AAC/D;AACA;AACA,mBAAkB,wDAAwD;AAC1E;AACA,+BAA8B,0BAA0B;AACxD;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,oBAAmB,8BAA8B;AACjD,qBAAoB,sBAAsB;AAC1C,sBAAqB,sCAAsC;AAC3D,yBAAwB,qEAAqE;AAC7F,wBAAuB,6BAA6B;AACpD,2BAA0B,6CAA6C;AACvE;AACA;AACA,sBAAqB,iCAAiC;AACtD,uBAAsB,2BAA2B;AACjD,uBAAsB,yBAAyB;AAC/C;AACA,sBAAqB,wBAAwB;AAC7C,gBAAe,gBAAgB;AAC/B;AACA;AACA,uBAAsB,6BAA6B;AACnD,yBAAwB,yBAAyB;AACjD,4BAA2B,uEAAuE;AAClG,2BAA0B,6BAA6B;AACvD,8BAA6B,6CAA6C;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,4CAA4C;AAChE,sBAAqB,0GAA0G;AAC/H;AACA;AACA;AACA;AACA,GAAE;;AAEF,EAAC;;;;;;;AC3LD,yB;;;;;;ACAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,kBAAiB,yBAAyB;AAC1C;AACA;AACA,GAAE;;AAEF,EAAC;;;;;;;mCCpBD;AACA;AACA,EAAC;;;;;;;ACFD;AACA;AACA;AACA;AACA;;AAEA,qCAAoC;AACpC;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,2BAA0B,qCAAqC;AAC/D;AACA,GAAE;;AAEF,uCAAsC;AACtC;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,8BAA6B,6BAA6B;AAC1D;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,mBAAkB,qCAAqC;AACvD,IAAG;AACH;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,gCAA+B;AAC/B;AACA,8CAA6C;AAC7C;AACA;AACA,oBAAmB,gCAAgC;AACnD,qBAAoB,4BAA4B;AAChD,uBAAsB,yDAAyD;AAC/E,yBAAwB;AACxB;AACA,0CAAyC;AACzC;AACA;AACA,qBAAoB,iCAAiC;AACrD,kBAAiB;AACjB;AACA;AACA;AACA,mCAAkC;AAClC,oBAAmB,gCAAgC;AACnD;AACA,qBAAoB,0BAA0B;AAC9C;AACA;AACA;AACA,GAAE;AACF,EAAC;;;;;;;AChID,sB","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/assets/javascripts/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);","/** @jsx React.DOM */\nvar React = require('react');\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar Backbone = require('backbone');\nvar vent = require('./lib/EventBus');\n\nvar Main = require('./lib/Main');\nvar TopicList = require('./lib/TopicList');\nvar TopicView = require('./lib/Topic');\nvar CreateTopic = require('./lib/TopicCreate');\nvar ProfileView = require('./lib/ProfileView');\nvar ProfileEdit = require('./lib/ProfileEdit');\n\n$.ajaxSetup({\n\tconverters: {\n\t\t'text json': function(text) {\n\t\t\tvar result = $.parseJSON(text);\n\t\t\tif( result && result.hasOwnProperty(\"payload\") ) {\n\t\t\t\treturn result.payload;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n});\n\n$(function() {\n\tvar Router = Backbone.Router.extend({\n\t\troutes: {\n\t\t\t'': 'listTopics',\n\t\t\t'topic': 'createTopic',\n\t\t\t'topic/:slug': 'showTopic',\n\t\t\t'profile': 'editProfile',\n\t\t\t'profile/:user': 'viewProfile'\n\t\t},\n\t\tinitialize: function(options) {\n\t\t\tthis.listenTo(vent, 'navigateTo', this.navTo);\n\t\t},\n\t\tnavTo: function(url) {\n\t\t\t//TODO: Do we do something if url is actually empty?\n\t\t\tif( url ) {\n\t\t\t\tthis.navigate(url, {trigger: true});\n\t\t\t}\n\t\t},\n\t\trender: function(component) {\n\t\t\tReact.renderComponent(Main({main: component}), document.body);\n\t\t},\n\t\tlistTopics: function() {\n\t\t\tthis.render(TopicList(null));\n\t\t},\n\t\tshowTopic: function(slug) {\n\t\t\tthis.render(TopicView({slug: slug}));\n\t\t},\n\t\tcreateTopic: function() {\n\t\t\tthis.render(CreateTopic(null));\n\t\t},\n\t\teditProfile: function() {\n\t\t\tthis.render(ProfileEdit(null));\n\t\t},\n\t\tviewProfile: function() {\n\t\t\tthis.render(ProfileView(null))\n\n\t\t}\n\t});\n\n\tvar router = new Router();\n\tBackbone.history.start({pushState: true});\n});\n","module.exports = React;","module.exports = jQuery;","module.exports = _;","module.exports = Backbone;","define(function(require) {\n\tvar _ = require('underscore');\n\tvar Backbone = require('backbone');\n\n\treturn _.extend({}, Backbone.Events);\n});\n","/** @jsx React.DOM */\ndefine(function(require) {\n\tvar $ = require('jquery');\n\tvar React = require('react');\n\tvar vent = require('./EventBus');\n\tvar NavLink = require('./NavLink');\n\tvar routes = require('./Routes');\n\n\tvar PageTitle = React.createClass({displayName: 'PageTitle',\n\t\tgetInitialState: function() {\n\t\t\treturn {\n\t\t\t\ttitle: ''\n\t\t\t}\n\t\t},\n\t\tupdateTitle: function(title) {\n\t\t\tthis.setState({title: title});\n\t\t\twindow.document.title = title;\n\t\t},\n\t\tcomponentDidMount: function() {\n\t\t\tvent.on('page:title', this.updateTitle, this);\n\t\t},\n\t\tcomponentWillUnmount: function() {\n\t\t\tvent.off('page:title', this.updateTitle, this);\n\t\t},\n\t\trender: function() {\n\t\t\treturn (React.DOM.div({className: \"page-header\"}, \n\t\t\t\tReact.DOM.h1(null, this.state.title)\n\t\t\t));\n\t\t}\n\t});\n\n\tvar MenuLink = React.createClass({displayName: 'MenuLink',\n\t\trender: function() {\n\t\t\tvar menuClass = \"list-group-item\";\n\t\t\treturn this.transferPropsTo(NavLink({className: menuClass}, this.props.children))\n\t\t}\n\t});\n\n\tvar Sidebar = React.createClass({displayName: 'Sidebar',\n\t\tgetInitialState: function() {\n\t\t\treturn {\n\t\t\t\t/**\n\t\t\t\t * Valid Values for loginState:\n\t\t\t\t * \"form\": Show the Login Form\n\t\t\t\t * \"done\": Show the \"An email has been sent\" message.\n\t\t\t\t * null: (or any other value) Show the login link.\n\t\t\t\t */\n\t\t\t\tloginState: null,\n\t\t\t\tcurrentUser: null,\n\t\t\t\temail: null,\n\t\t\t\tpersist: false\n\t\t\t}\n\t\t},\n\t\tcomponentDidMount: function() {\n\t\t\tvar r = routes.controllers.api.Root.whoami();\n\t\t\t$.ajax({\n\t\t\t\ttype: r.method,\n\t\t\t\turl: r.url\n\t\t\t}).done((function(data) {\n\t\t\t\tthis.setState({currentUser: data});\n\t\t\t}).bind(this));\n\t\t},\n\t\thandleLoginLink: function() {\n\t\t\tthis.setState({loginState: \"form\"});\n\t\t},\n\t\tonEmailChange: function(e) {\n\t\t\tthis.setState({email: e.target.value});\n\t\t},\n\t\tonPersistChange: function(e) {\n\t\t\tthis.setState({persist: e.target.checked});\n\t\t},\n\t\tonLogin: function() {\n\t\t\tvar r = routes.controllers.api.Tokens.create();\n\t\t\t$.ajax({\n\t\t\t\ttype: r.method,\n\t\t\t\turl: r.url,\n\t\t\t\tdata: {\n\t\t\t\t\temail: this.state.email,\n\t\t\t\t\tpersist: this.state.persist\n\t\t\t\t}\n\t\t\t}).done(this.onLoginSuccess);\n\t\t},\n\t\tonLoginSuccess: function() {\n\t\t\tthis.setState({loginState: \"done\"});\n\t\t},\n\t\tmakeLoginLink: function() {\n\t\t\tif( this.state.currentUser ) {\n\t\t\t\t// TODO: Replace this with a route entry.\n\t\t\t\treturn React.DOM.a({className: \"list-group-item\", href: \"/logout\"}, \"Logout \", this.state.currentUser.displayName);\n\t\t\t}\n\t\t\telse if( \"form\" === this.state.loginState ) {\n\t\t\t\treturn React.DOM.div({className: \"list-group-item\"}, \n\t\t\t\t\tReact.DOM.input({type: \"text\", className: \"form-control\", onChange: this.onEmailChange}), \n\t\t\t\t\tReact.DOM.div({className: \"checkbox\"}, \n\t\t\t\t\t\tReact.DOM.label(null, \n\t\t\t\t\t\t\tReact.DOM.input({type: \"checkbox\", onChange: this.onPersistChange}), \n\t\t\t\t\t\t\"Stay Logged In\")\n\t\t\t\t\t), \n\t\t\t\t\tReact.DOM.button({className: \"btn btn-block btn-success\", onClick: this.onLogin}, \"Login\")\n\t\t\t\t);\n\t\t\t}\n\t\t\telse if( \"done\" === this.state.loginState ) {\n\t\t\t\treturn React.DOM.div({className: \"list-group-item\"}, \n\t\t\t\t\tReact.DOM.p({className: \"list-group-item-text\"}, \"An email has been sent to\" + ' ' +\n\t\t\t\t\t\"'\", this.state.email, \"', if you do not receive it, please contact the\" + ' ' +\n\t\t\t\t\t\"forum admin.\")\n\t\t\t\t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn React.DOM.a({className: \"list-group-item\", onClick: this.handleLoginLink}, \"Login\");\n\t\t\t}\n\t\t},\n\t\tmakeProfileLink: function() {\n\t\t\tif( this.state.currentUser ) {\n\t\t\t\treturn NavLink({className: \"list-group-item\", href: \"/profile\"}, \"Edit Profile\");\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\trender: function() {\n\t\t\treturn (React.DOM.div({className: \"panel panel-default\"}, \n\t\t\t\tReact.DOM.div({className: \"panel-heading visible-xs\"}, \n\t\t\t\t\tReact.DOM.h3({className: \"panel-title\"}, \"Navigation\")\n\t\t\t\t), \n\t\t\t\tReact.DOM.div({className: \"list-group\"}, \n\t\t\t\t\tNavLink({className: \"list-group-item\", href: \"/\"}, \"All Discussions\"), \n\t\t\t\t\tNavLink({className: \"list-group-item\", href: \"/topic\"}, \"Create Topic\"), \n\t\t\t\t\tthis.makeProfileLink(), \n\t\t\t\t\tthis.makeLoginLink()\n\t\t\t\t)\n\t\t\t));\n\t\t}\n\t});\n\n\treturn React.createClass({\n\t\trender: function() {\n\t\t\treturn (\n\t\t\t\tReact.DOM.div({className: \"container-fluid\"}, \n\t\t\t\t\tPageTitle(null), \n\t\t\t\t\tReact.DOM.div({className: \"row\"}, \n\t\t\t\t\t\tReact.DOM.div({className: \"main-content col-sm-9 col-sm-push-3\"}, this.props.main), \n\t\t\t\t\t\tReact.DOM.div({className: \"sidebar col-sm-3 col-sm-pull-9\"}, \n\t\t\t\t\t\t\tSidebar(null)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t});\n});\n","/** @jsx React.DOM */\ndefine(function(require) {\n\tvar React = require('react');\n\tvar vent = require('./EventBus');\n\n\tvar NavLink = require('./NavLink');\n\n\tvar TopicListItem = React.createClass({displayName: 'TopicListItem',\n\t\trender: function() {\n\t\t\tvar topicUrl = \"/topic/\" + this.props.slug;\n\t\t\treturn (\n\t\t\t\tReact.DOM.li(null, \n\t\t\t\t\tReact.DOM.div({className: \"topic-iconline pull-right\"}, \n\t\t\t\t\t\tReact.DOM.i({className: \"fa fa-eye fa-2x topic-watched\"}), \n\t\t\t\t\t\tReact.DOM.i({className: \"fa fa-star fa-2x topic-saved\"})\n\t\t\t\t\t), \n\t\t\t\t\tReact.DOM.div({className: \"topic-titleline\"}, \n\t\t\t\t\t\tReact.DOM.i({className: \"fa fa-dot-circle-o topic-unread\"}), \n\t\t\t\t\t\tNavLink({className: \"topic-title\", href: topicUrl}, this.props.title)\n\t\t\t\t\t), \n\t\t\t\t\tReact.DOM.div({className: \"topic-dateline text-muted\"}, \n\t\t\t\t\t\"updated on: \", this.props.date.toTimeString()\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t});\n\n\treturn React.createClass({\n\t\tcomponentDidMount: function() {\n\t\t\tvent.trigger('page:title', \"All Discussions\");\n\t\t},\n\t\trender: function() {\n\t\t\tvar topics = [];\n\t\t\tfor( var i = 0; i < 5; i++ ) {\n\t\t\t\tvar title = \"topic\" + i;\n\t\t\t\ttopics[i] = TopicListItem({key: i, \n\t\t\t\ttitle: title, \n\t\t\t\tslug: title, \n\t\t\t\tdate: new Date()})\n\t\t\t}\n\t\t\treturn (React.DOM.ul({className: \"topic-list\"}, topics));\n\t\t},\n\t\topenModal: function() {\n\t\t\tthis.refs.modal.open();\n\t\t},\n\t\tcloseModal: function() {\n\t\t\tthis.refs.modal.close();\n\t\t}\n\t});\n});\n","/** @jsx React.DOM */\ndefine(function(require) {\n\tvar _ = require('underscore');\n\tvar React = require('react');\n\tvar marked = require('marked');\n\tvar vent = require('./EventBus');\n\tvar Editor = require('./Editor');\n\n\tvar TopicTitle = React.createClass({displayName: 'TopicTitle',\n\t\trender: function() {\n\t\t\treturn (\n\t\t\t\tReact.DOM.div({className: \"post-topic-title\"}, \n\t\t\t\t\tReact.DOM.h1(null, this.props.title, \n\t\t\t\t\t\tReact.DOM.a({href: \"#\", className: \"post-edit-title pull-right\"}, \n\t\t\t\t\t\t\tReact.DOM.i({className: \"fa fa-edit\"})\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t});\n\n\tvar EditPostButton = React.createClass({displayName: 'EditPostButton',\n\t\trender: function() {\n\t\t\tvar cx = React.addons.classSet;\n\t\t\tvar classes = cx({\n\t\t\t\t'fa': true,\n\t\t\t\t'fa-edit': !this.props.editMode,\n\t\t\t\t'fa-ban': this.props.editMode\n\t\t\t});\n\t\t\treturn this.transferPropsTo(React.DOM.a({className: \"post-edit\"}, \n\t\t\t\tReact.DOM.i({className: classes})\n\t\t\t));\n\t\t}\n\t});\n\n\tvar DeletePostButton = React.createClass({displayName: 'DeletePostButton',\n\t\tgetInitialState: function() {\n\t\t\treturn {\n\t\t\t\tdeleteInitiated: false\n\t\t\t};\n\t\t},\n\t\thandleDelete: function() {\n\t\t\tvent.trigger('post:delete', this.props.key);\n\t\t},\n\t\thandleIconClick: function() {\n\t\t\tthis.setState({\n\t\t\t\tdeleteInitiated: !this.state.deleteInitiated\n\t\t\t});\n\t\t},\n\t\trender: function() {\n\t\t\tvar cx = React.addons.classSet;\n\t\t\tvar iconClasses = cx({\n\t\t\t\t'fa text-danger': true,\n\t\t\t\t'fa-ban': this.state.deleteInitiated,\n\t\t\t\t'fa-trash-o': !this.state.deleteInitiated\n\t\t\t});\n\t\t\tvar deleteButton = this.state.deleteInitiated ?\n\t\t\t\tReact.DOM.a({onClick: this.handleDelete, className: \"btn btn-danger btn-xs\"}, \"Delete\") : null;\n\t\t\treturn (React.DOM.span(null, deleteButton, \n\t\t\t\tReact.DOM.a({className: \"post-delete\", onClick: this.handleIconClick}, \n\t\t\t\t\tReact.DOM.i({className: iconClasses})\n\t\t\t\t)\n\t\t\t));\n\t\t}\n\t});\n\n\tvar PostBody = React.createClass({displayName: 'PostBody',\n\t\trender: function() {\n\t\t\treturn (React.DOM.span({dangerouslySetInnerHTML: {__html: this.props.children}}));\n\t\t}\n\t});\n\n\tvar ReplyItem = React.createClass({displayName: 'ReplyItem',\n\t\tgetInitialState: function() {\n\t\t\treturn {\n\t\t\t\tbody: this.props.post.body,\n\t\t\t\tmodifiedBy: this.props.post.modifiedBy,\n\t\t\t\tmodifiedOn: this.props.post.modifiedOn,\n\t\t\t\teditMode: false\n\t\t\t}\n\t\t},\n\t\tonEditSubmit: function() {\n\t\t\tvar result = this.editPostHandler();\n\t\t\t// Handle error.\n\t\t},\n\t\tonEditPost: function() {\n\t\t\tthis.setState({\n\t\t\t\teditMode: !this.state.editMode\n\t\t\t});\n\t\t},\n\t\tonDeletePost: function() {\n\t\t\t//TODO: How do I handle this?\n\t\t\tconsole.log(\"deleting post\");\n\t\t},\n\t\trender: function() {\n\t\t\t// We're in \"editing mode\" or \"body mode\"\n\t\t\tvar bodyEl = this.state.editMode ?\n\t\t\t\tEditor({className: \"post-body\", focus: true, submitHandler: this.onEditSubmit}) :\n\t\t\t\tPostBody({className: \"post-body\"}, this.state.body);\n\n\t\t\treturn (\n\t\t\t\tReact.DOM.div({className: \"post-item\"}, \n\t\t\t\t\tReact.DOM.div({className: \"post-topline\"}, \n\t\t\t\t\t\tReact.DOM.span({className: \"post-author\"}, this.props.post.author), \n\t\t\t\t\t\tReact.DOM.span({className: \"post-date\"}, this.props.createdOn), \n\t\t\t\t\t\tReact.DOM.span({className: \"post-actions pull-right\"}, \n\t\t\t\t\t\t\tEditPostButton({onClick: this.onEditPost, editMode: this.state.editMode}), \n\t\t\t\t\t\t\tDeletePostButton({key: \"post_\" + this.props.key})\n\t\t\t\t\t\t)\n\t\t\t\t\t), \n\t\t\t\t\tReact.DOM.div({className: \"post-avatar pull-right\"}, \n\t\t\t\t\t\tReact.DOM.img({src: \"//placehold.it/75\"})\n\t\t\t\t\t), \n\t\t\t\t\tbodyEl, \n\t\t\t\t\tReact.DOM.div({className: \"post-edited-line\"}, \"last edited \", this.state.modifiedOn, \" by \", this.state.modifiedBy)\n\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t});\n\n\tvar ReplyList = React.createClass({displayName: 'ReplyList',\n\t\tgetDefaultProps: function() {\n\t\t\treturn {\n\t\t\t\teditPostHandler: function() {\n\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\trender: function() {\n\t\t\tvar self = this;\n\t\t\tvar replies = _(this.props.posts).map(function(p, i) {\n\t\t\t\treturn ReplyItem({key: i, post: p, editPostHandler: self.props.editPostHandler})\n\t\t\t});\n\t\t\treturn (\n\t\t\t\tReact.DOM.ul({className: \"post-list\"}, replies)\n\t\t\t\t);\n\t\t}\n\t});\n\n\treturn React.createClass({\n\t\tgetDefaultProps: function() {\n\t\t\treturn {\n\t\t\t\tslug: \"error: missing title\"\n\t\t\t}\n\t\t},\n\t\tgetInitialState: function() {\n\t\t\treturn {\n\t\t\t\tposts: {}\n\t\t\t}\n\t\t},\n\t\tcomponentDidMount: function() {\n\t\t\t// Load Topic by Slug from API.\n\t\t\t// todo: remove this placeholder code.\n\t\t\tvar posts = [];\n\t\t\tfor( var i = 0; i < 10; i++ ) {\n\t\t\t\tposts[i] = {\n\t\t\t\t\tauthor: 'Post Author ' + i,\n\t\t\t\t\tcreatedOn: new Date().getMilliseconds(),\n\t\t\t\t\tmodifiedBy: \"Modifying User \" + i,\n\t\t\t\t\tmodifiedOn: new Date().getMilliseconds(),\n\t\t\t\t\tbody: 'Post Body ' + i\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.setState({posts: posts});\n\t\t\tvent.trigger('page:title', this.props.slug);\n\t\t\tvent.on('post:delete', this.deletePostHandler, this);\n\t\t},\n\t\treplySubmitHandler: function(content) {\n\t\t\t// This will either be an update, or a new reply <- check the id.\n\t\t\t//\n\t\t\t// Submit AJAX request to create/update ->\n\t\t\t// On response -> add reply to state (either replace old reply, or\n\t\t\t// add to end.\n\n\t\t\tvar newPost = {\n\t\t\t\tauthor: 'New Post Author',\n\t\t\t\tbody: marked(content)\n\t\t\t};\n\t\t\tvar newState = React.addons.update(this.state, {\n\t\t\t\tposts: {\n\t\t\t\t\t$push: [newPost]\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.setState(newState);\n\t\t\treturn true;\n\t\t},\n\t\tdeletePostHandler: function(replyIndex) {\n\t\t\tconsole.log(\"deleting post: \" + replyIndex);\n\t\t\t// Send DELETE request.\n\t\t\t// update State\n\t\t\tvar newState = React.addons.update(this.state, {\n\t\t\t\tposts: {\n\t\t\t\t\t$splice: [\n\t\t\t\t\t\t[replyIndex, 1]\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.setState(newState);\n\t\t},\n\t\trender: function() {\n\t\t\treturn (\n\t\t\t\tReact.DOM.div(null, \n\t\t\t\t\tReplyList({posts: this.state.posts, editPostHandler: this.replySubmitHandler}), \n\t\t\t\t\tEditor({className: \"post-reply-form\", submitHandler: this.replySubmitHandler})\n\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t});\n});\n","/** @jsx React.DOM */\ndefine(function(require) {\n\tvar React = require('react');\n\tvar vent = require('./EventBus');\n\tvar Editor = require('./Editor');\n\n\treturn React.createClass({\n\t\tcomponentDidMount: function() {\n\t\t\tvent.trigger('page:title', \"Create Topic\");\n\t\t},\n\t\tonTopicSubmit: function(contentSource, title) {\n\t\t\t// Submit ajax request\n\t\t\t// On success.. trigger a navigate event.\n\t\t\t// TODO: Obviously replace this with the proper url.\n\t\t\tvar href = \"/topic/\" + title.replace(/ +/g, '-');\n\t\t\tvent.trigger('navigateTo', href);\n\t\t},\n\t\trender: function() {\n\t\t\treturn (\n\t\t\t\tEditor({className: \"topic-create-form\", focus: true, showTitle: true, \n\t\t\t\tsubmitHandler: this.onTopicSubmit})\n\t\t\t\t);\n\t\t}\n\n\t});\n});\n","/** @jsx React.DOM */\ndefine(function(require) {\n\tvar _ = require('underscore');\n\tvar React = require('react');\n\tvar marked = require('marked');\n\tvar vent = require('./EventBus');\n\tvar Editor = require('./Editor');\n\n\t/**\n\t * name\n\t * avatar\n\t *\n\t * emails (public only?)\n\t *\n\t * topics created\n\t * topics posted in?\n\t *\n\t */\n\n\treturn React.createClass({\n\t\trender: function() {\n\t\t\treturn (\n\t\t\t\tReact.DOM.div(null)\n\t\t\t\t);\n\t\t}\n\t});\n\n});\n","/** @jsx React.DOM */\ndefine(function(require) {\n\tvar $ = require('jquery');\n\tvar React = require('react');\n\tvar vent = require('./EventBus');\n\tvar routes = require('./Routes')\n\n\tvar ReactCSSTransitionGroup = React.addons.CSSTransitionGroup;\n\n\t/*\n\t topics created ?\n\t topics participated in ?\n\t */\n\n\tvar Token = React.createClass({displayName: 'Token',\n\t\tgetDefaultProps: function() {\n\t\t\treturn {\n\t\t\t\tdata: {},\n\t\t\t\tonRevoke: function() {\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetInitialState: function() {\n\t\t\treturn {\n\t\t\t\tbtnActive: false\n\t\t\t}\n\t\t},\n\t\thandleClick: function() {\n\t\t\tthis.setState({btnActive: !this.state.btnActive});\n\t\t},\n\t\thandleRevoke: function() {\n\t\t\tthis.props.onRevoke(this.props.data.id);\n\t\t},\n\t\trender: function() {\n\t\t\tvar actions = [];\n\t\t\tif( this.state.btnActive ) {\n\t\t\t\tactions[0] = React.DOM.div({className: \"btn-group\", key: \"1\"}, \n\t\t\t\t\tReact.DOM.button({className: \"btn btn-danger\", onClick: this.handleRevoke}, \n\t\t\t\t\t\tReact.DOM.i({className: \"fa fa-trash-o fa-lg\"}), \n\t\t\t\t\t\"Revoke\"\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tvar tokenName = this.props.data.name ?\n\t\t\t\tthis.props.data.name : this.props.data.browser;\n\t\t\treturn (\n\t\t\t\tReact.DOM.li({className: \"list-group-item\", onClick: this.handleClick}, \n\t\t\t\ttokenName, \n\t\t\t\t\tReactCSSTransitionGroup({transitionName: \"example\"}, \n\t\t\t\t\tactions\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t});\n\n\tvar UserTokens = React.createClass({displayName: 'UserTokens',\n\t\tgetInitialState: function() {\n\t\t\treturn {\n\t\t\t\ttokens: []\n\t\t\t}\n\t\t},\n\t\tcomponentDidMount: function() {\n\t\t\tvar r = routes.controllers.api.Tokens.list();\n\t\t\t$.ajax({\n\t\t\t\ttype: r.method,\n\t\t\t\turl: r.url\n\t\t\t}).done((function(data) {\n\t\t\t\tthis.setState({tokens: data});\n\t\t\t}).bind(this));\n\t\t},\n\t\trevokeToken: function(tokenId) {\n\t\t\tconsole.log(\"revoking token: \" + tokenId);\n\t\t\tvar r = routes.controllers.api.Tokens.delete(tokenId);\n\t\t\t$.ajax({\n\t\t\t\ttype: r.method,\n\t\t\t\turl: r.url\n\t\t\t}).done((function() {\n\t\t\t\tthis.setState({\n\t\t\t\t\ttokens: _(this.state.tokens).reject(function(t) {\n\t\t\t\t\t\treturn t.id === tokenId;\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t}).bind(this));\n\t\t},\n\t\trender: function() {\n\t\t\tvar tokens = [];\n\t\t\tfor( var i in this.state.tokens ) {\n\t\t\t\ttokens.push(Token({key: this.state.tokens[i].id, \n\t\t\t\tonRevoke: this.revokeToken, data: this.state.tokens[i]}));\n\t\t\t}\n\n\t\t\treturn (React.DOM.div({className: \"panel panel-default\"}, \n\t\t\t\tReact.DOM.div({className: \"panel-heading\"}, \n\t\t\t\t\tReact.DOM.h3({className: \"panel-title\"}, \"Authentication Tokens\")\n\t\t\t\t), \n\t\t\t\tReact.DOM.ul({className: \"list-group\"}, tokens)\n\t\t\t));\n\t\t}\n\t});\n\n\tvar Email = React.createClass({displayName: 'Email',\n\t\tgetDefaultProps: function() {\n\t\t\treturn {\n\t\t\t\tisPrimary: false\n\t\t\t}\n\t\t},\n\t\tgetInitialState: function() {\n\t\t\treturn {\n\t\t\t\tactionsEnabled: false\n\t\t\t}\n\t\t},\n\t\thandleClick: function() {\n\t\t\tthis.setState({actionsEnabled: !this.state.actionsEnabled});\n\t\t},\n\t\thandleRemove: function(e) {\n\t\t\treturn false;\n\t\t},\n\t\tmakePrimary: function(e) {\n\t\t\treturn false;\n\t\t},\n\t\trender: function() {\n\t\t\tvar primary, actions = [];\n\t\t\tif( this.state.actionsEnabled && !this.props.isPrimary ) {\n\t\t\t\tactions.push(React.DOM.div({className: \"btn-group\", key: \"1\"}, \n\t\t\t\t\tReact.DOM.button({className: \"btn btn-primary\", onClick: this.makePrimary}, \"Make Primary\"), \n\t\t\t\t\tReact.DOM.button({className: \"btn btn-danger\", onClick: this.handleRemove}, \n\t\t\t\t\t\tReact.DOM.i({className: \"fa fa-trash-o fa-lg\"})\n\t\t\t\t\t)\n\t\t\t\t));\n\t\t\t}\n\t\t\tif( this.props.isPrimary ) {\n\t\t\t\tprimary = React.DOM.span({className: \"label label-success\"}, \"Primary\");\n\t\t\t}\n\t\t\treturn (\n\t\t\t\tReact.DOM.li({className: \"list-group-item\", onClick: this.handleClick}, \n\t\t\t\tthis.props.children, \" \", primary, \n\t\t\t\t\tReactCSSTransitionGroup({transitionName: \"example\"}, \n\t\t\t\t\tactions\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t});\n\n\treturn React.createClass({\n\t\tcomponentDidMount: function() {\n\t\t\tvent.trigger('page:title', \"Edit Your Profile\");\n\t\t},\n\t\trender: function() {\n\t\t\treturn (\n\t\t\t\tReact.DOM.div({className: \"edit-profile row\"}, \n\t\t\t\t\tReact.DOM.div({className: \"col-md-8\"}, \n\t\t\t\t\t\tReact.DOM.div({className: \"display-name input-group\"}, \n\t\t\t\t\t\t\tReact.DOM.input({type: \"text\", className: \"form-control\", placeholder: \"Display Name\"}), \n\t\t\t\t\t\t\tReact.DOM.span({className: \"input-group-btn\"}, \n\t\t\t\t\t\t\t\tReact.DOM.button({className: \"btn btn-success\", type: \"button\"}, \"Save\")\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t), \n\t\t\t\t\t\tReact.DOM.div({className: \"panel panel-default\"}, \n\t\t\t\t\t\t\tReact.DOM.div({className: \"panel-heading\"}, \n\t\t\t\t\t\t\t\tReact.DOM.h3({className: \"panel-title\"}, \"Emails\")\n\t\t\t\t\t\t\t), \n\t\t\t\t\t\t\tReact.DOM.ul({className: \"list-group\"}, \n\t\t\t\t\t\t\t\tEmail({isPrimary: true}, \"primary@example.com\"), \n\t\t\t\t\t\t\t\tEmail(null, \"secondary1@example.com\"), \n\t\t\t\t\t\t\t\tEmail(null, \"secondary1@example.com\"), \n\t\t\t\t\t\t\t\tReact.DOM.li({className: \"list-group-item\"}, \n\t\t\t\t\t\t\t\t\tReact.DOM.div({className: \"input-group\"}, \n\t\t\t\t\t\t\t\t\t\tReact.DOM.input({className: \"form-control\", type: \"email\", placeholder: \"add new email\"}), \n\t\t\t\t\t\t\t\t\t\tReact.DOM.span({className: \"input-group-btn\"}, \n\t\t\t\t\t\t\t\t\t\t\tReact.DOM.button({className: \"btn btn-success\", type: \"button\"}, \"Add\")\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t), \n\t\t\t\t\t\tUserTokens(null)\n\t\t\t\t\t), \n\t\t\t\t\tReact.DOM.div({className: \"col-md-4 visible-md visible-lg\"}, \n\t\t\t\t\t\tReact.DOM.img({className: \"profile-avatar\", src: \"http://gravatar.com/avatar/cd27466723d44baeab956c5157d22e00.png?s=150\"})\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t});\n\n});\n","module.exports = marked;","/** @jsx React.DOM */\ndefine(function(require) {\n\tvar React = require('react');\n\tvar vent = require('./EventBus');\n\n\treturn React.createClass({\n\t\tpropTypes: {\n\t\t\thref: React.PropTypes.string.isRequired\n\t\t},\n\t\tnavOnClick: function(e) {\n\t\t\te.preventDefault();\n\t\t\tvent.trigger('navigateTo', this.props.href)\n\t\t},\n\t\trender: function() {\n\t\t\treturn this.transferPropsTo(\n\t\t\t\tReact.DOM.a({onClick: this.navOnClick}, this.props.children)\n\t\t\t)\n\t\t}\n\t});\n\n});\n","define(function(require) {\n\treturn window.jsroutes;\n});\n","/** @jsx React.DOM */\ndefine(function(require) {\n\tvar React = require('react');\n\tvar Ace = require('ace');\n\tvar marked = require('marked');\n\n\tvar AceEditor = React.createClass({displayName: 'AceEditor',\n\t\tgetInitialState: function() {\n\t\t\treturn {\n\t\t\t\tcontent: this.props.initialContent\n\t\t\t}\n\t\t},\n\t\thandleChange: function() {\n\t\t\tthis.props.changeHandler(this.editor.getValue());\n\t\t},\n\t\tcomponentDidMount: function() {\n\t\t\tthis.editor = Ace.edit(this.getDOMNode());\n\t\t\tthis.editor.setOptions({\n\t\t\t\tminLines: 5,\n\t\t\t\tmaxLines: 20\n\t\t\t});\n\t\t\tthis.editor.setFontSize(16);\n\t\t\tthis.editor.renderer.setShowGutter(false);\n\t\t\tthis.editor.getSession().setMode('ace/mode/markdown');\n\t\t\tthis.editor.getSession().setUseWrapMode(true);\n\t\t\tthis.editor.getSession().setTabSize(2);\n\t\t\tthis.editor.getSession().on('change', this.handleChange);\n\t\t\tthis.editor.setValue(this.state.content, -1);\n\t\t\tif( this.props.autoFocus ) {\n\t\t\t\tthis.editor.focus();\n\t\t\t}\n\t\t},\n\t\trender: function() {\n\t\t\tvar style = {\n\t\t\t\tdisplay: this.props.preview ? \"none\" : \"block\"\n\t\t\t};\n\t\t\treturn (React.DOM.div({style: style, className: \"edit-pane\"}));\n\t\t}\n\t});\n\n\tvar PreviewPane = React.createClass({displayName: 'PreviewPane',\n\t\trender: function() {\n\t\t\tvar style = {\n\t\t\t\tdisplay: this.props.preview ? \"block\" : \"none\"\n\t\t\t};\n\t\t\treturn (React.DOM.div({style: style, className: \"preview-pane\", \n\t\t\tdangerouslySetInnerHTML: {__html: this.props.children}}));\n\t\t}\n\t});\n\n\treturn React.createClass({\n\t\tgetDefaultProps: function() {\n\t\t\treturn {\n\t\t\t\tinitialContent: \"\",\n\t\t\t\tshowTitle: false,\n\t\t\t\ttitlePlaceholder: \"Topic Title\",\n\t\t\t\tsubmitHandler: function() {\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tgetInitialState: function() {\n\t\t\treturn {\n\t\t\t\tpreviewMode: false,\n\t\t\t\ttitle: \"\",\n\t\t\t\tcontentSource: this.props.initialContent,\n\t\t\t\tcontentPreview: \"\",\n\t\t\t\teditorKey: 1\n\t\t\t};\n\t\t},\n\t\thandlePreview: function() {\n\t\t\tthis.setState({previewMode: !this.state.previewMode});\n\t\t},\n\t\thandleEdit: function(newContent) {\n\t\t\tthis.setState({\n\t\t\t\tcontentSource: newContent,\n\t\t\t\tcontentPreview: marked(newContent)\n\t\t\t});\n\t\t},\n\t\thandleTopicChange: function(event) {\n\t\t\tthis.setState({\n\t\t\t\ttitle: event.target.value\n\t\t\t});\n\t\t},\n\t\thandleSubmit: function() {\n\t\t\tvar result = this.props.submitHandler(this.state.contentSource, this.state.title);\n\t\t\t//TODO: Need to handle failure here.\n\t\t\tthis.setState({\n\t\t\t\tcontentSource: \"\",\n\t\t\t\tcontentPreview: \"\",\n\t\t\t\tpreviewMode: false,\n\t\t\t\teditorKey: this.state.editorKey + 1\n\t\t\t});\n\t\t},\n\t\trender: function() {\n\t\t\tvar cx = React.addons.classSet;\n\t\t\tvar previewButtonCls = cx({\n\t\t\t\t'editor-preview-button pull-right fa fa-2x': true,\n\t\t\t\t'fa-eye': !this.state.previewMode,\n\t\t\t\t'fa-eye-slash': this.state.previewMode\n\t\t\t});\n\t\t\tvar topicEl;\n\t\t\tif( this.props.showTitle ) {\n\t\t\t\ttopicEl = React.DOM.input({className: \"editor-title input-lg form-control\", \n\t\t\t\tonChange: this.handleTopicChange, name: \"title\", \n\t\t\t\tplaceholder: this.props.titlePlaceholder})\n\t\t\t}\n\t\t\treturn (\n\t\t\t\tReact.DOM.div({className: this.props.className}, \n\t\t\t\t\tReact.DOM.div({className: \"editor-actions\"}, \n\t\t\t\t\t\tReact.DOM.span({onClick: this.handlePreview, className: previewButtonCls}), \n\t\t\t\t\t\tReact.DOM.button({type: \"submit\", onClick: this.handleSubmit, \n\t\t\t\t\t\tclassName: \"btn btn-sm btn-success post-submit\", \n\t\t\t\t\t\t'data-loading-text': \" Posting...\"}, \"Submit\")\n\t\t\t\t\t), \n\t\t\t\t\ttopicEl, \n\t\t\t\t\tReact.DOM.div({className: \"editor form-control\"}, \n\t\t\t\t\t\tAceEditor({key: this.state.editorKey, \n\t\t\t\t\t\tinitialContent: this.state.contentSource, \n\t\t\t\t\t\tpreview: this.state.previewMode, \n\t\t\t\t\t\tchangeHandler: this.handleEdit, \n\t\t\t\t\t\tautoFocus: this.props.focus}), \n\t\t\t\t\t\tPreviewPane({preview: this.state.previewMode}, this.state.contentPreview)\n\t\t\t\t\t), \n\t\t\t\t\tReact.DOM.div({className: \"alert-region\"})\n\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t});\n});\n","module.exports = ace;"],"sourceRoot":"webpack-module://"}